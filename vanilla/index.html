<!DOCTYPE html>
<html>
    <head>
        <title>Vanilla JS</title>
    </head>
    <body>
        <ul id="todos"></ul>
        <form>
            <input name="todo" type="text"/>
            <input type="submit" value="Add Todo"/>
        </form>
        <script>
            const form = document.querySelector('form');
            const input = document.querySelector("[name='todo']");
            const todoList = document.getElementById('todos');

            const existingTodos = JSON.parse(localStorage.getItem('todos'))

            const todoData = existingTodos || []

            function addTodo(todoText) {
                todoData.push(todoText);
                const li = document.createElement('li');
                li.innerHTML = todoText;
                todoList.appendChild(li);
                localStorage.setItem('todos', JSON.stringify(todoData));
            }

            todoData.forEach(todo => {
                addTodo(todo)
            })

            form.onsubmit = (event) => {
                event.preventDefault();
                addTodo(input.value);
                input.value = ''
            }
        </script>
    </body>
</html>